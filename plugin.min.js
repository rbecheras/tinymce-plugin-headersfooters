!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){a("./src/main")},{"./src/main":10}],2:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],3:[function(a,b,c){(function(a){!function(a){"use strict";if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof c&&"object"==typeof b)b.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var d="undefined"!=typeof window?window:self,e=d.Q;d.Q=a(),d.Q.noConflict=function(){return d.Q=e,this}}}(function(){"use strict";function b(a){return function(){return X.apply(a,arguments)}}function c(a){return a===Object(a)}function d(a){return"[object StopIteration]"===da(a)||a instanceof T}function e(a,b){if(Q&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(ea)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+ea+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];i(e)||g(e)||!e||c.push(e)}return c.join("\n")}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===S&&d>=U&&ja>=d}function j(){if(Q)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=h(c);if(!d)return;return S=d[0],d[1]}}function k(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function l(a){return a instanceof p?a:t(a)?C(a):B(a)}function m(){function a(a){b=a,f.source=a,Z(c,function(b,c){l.nextTick(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=aa(m.prototype),f=aa(p.prototype);if(f.promiseDispatch=function(a,e,f){var g=Y(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):l.nextTick(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=function(){if(c)return f;var a=r(b);return s(a)&&(b=a),a},f.inspect=function(){return b?b.inspect():{state:"pending"}},l.longStackSupport&&Q)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(l(c))},e.fulfill=function(c){b||a(B(c))},e.reject=function(c){b||a(A(c))},e.notify=function(a){b||Z(d,function(b,c){l.nextTick(function(){c(a)})},void 0)},e}function n(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=m();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function o(a){return n(function(b,c){for(var d=0,e=a.length;e>d;d++)l(a[d]).then(b,c)})}function p(a,b,c){void 0===b&&(b=function(a){return A(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=aa(p.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=A(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function q(a,b,c,d){return l(a).then(b,c,d)}function r(a){if(s(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function s(a){return a instanceof p}function t(a){return c(a)&&"function"==typeof a.then}function u(a){return s(a)&&"pending"===a.inspect().state}function v(a){return!s(a)||"fulfilled"===a.inspect().state}function w(a){return s(a)&&"rejected"===a.inspect().state}function x(){fa.length=0,ga.length=0,ia||(ia=!0)}function y(b,c){ia&&("object"==typeof a&&"function"==typeof a.emit&&l.nextTick.runAfter(function(){-1!==$(ga,b)&&(a.emit("unhandledRejection",c,b),ha.push(b))}),ga.push(b),c&&"undefined"!=typeof c.stack?fa.push(c.stack):fa.push("(no stack) "+c))}function z(b){if(ia){var c=$(ga,b);-1!==c&&("object"==typeof a&&"function"==typeof a.emit&&l.nextTick.runAfter(function(){var d=$(ha,b);-1!==d&&(a.emit("rejectionHandled",fa[c],b),ha.splice(d,1))}),ga.splice(c,1),fa.splice(c,1))}}function A(a){var b=p({when:function(b){return b&&z(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return y(b,a),b}function B(a){return p({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return ca(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function C(a){var b=m();return l.nextTick(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function D(a){return p({isDef:function(){}},function(b,c){return J(a,b,c)},function(){return l(a).inspect()})}function E(a,b,c){return l(a).spread(b,c)}function F(a){return function(){function b(a,b){var g;if("undefined"==typeof StopIteration){try{g=c[a](b)}catch(h){return A(h)}return g.done?l(g.value):q(g.value,e,f)}try{g=c[a](b)}catch(h){return d(h)?l(h.value):A(h)}return q(g,e,f)}var c=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function G(a){l.done(l.async(a)())}function H(a){throw new T(a)}function I(a){return function(){return E([this,K(arguments)],function(b,c){return a.apply(b,c)})}}function J(a,b,c){return l(a).dispatch(b,c)}function K(a){return q(a,function(a){var b=0,c=m();return Z(a,function(d,e,f){var g;s(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,q(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function L(a){if(0===a.length)return l.resolve();var b=l.defer(),c=0;return Z(a,function(d,e,f){function g(a){b.resolve(a)}function h(){c--,0===c&&b.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function i(a){b.notify({index:f,value:a})}var j=a[f];c++,q(j,g,h,i)},void 0),b.promise}function M(a){return q(a,function(a){return a=_(a,l),q(K(_(a,function(a){return q(a,V,V)})),function(){return a})})}function N(a){return l(a).allSettled()}function O(a,b){return l(a).then(void 0,void 0,b)}function P(a,b){return l(a).nodeify(b)}var Q=!1;try{throw new Error}catch(R){Q=!!R.stack}var S,T,U=j(),V=function(){},W=function(){function b(){for(var a,b;d.next;)d=d.next,a=d.task,d.task=void 0,b=d.domain,b&&(d.domain=void 0,b.enter()),c(a,b);for(;i.length;)a=i.pop(),c(a);f=!1}function c(a,c){try{a()}catch(d){if(h)throw c&&c.exit(),setTimeout(b,0),c&&c.enter(),d;setTimeout(function(){throw d},0)}c&&c.exit()}var d={task:void 0,next:null},e=d,f=!1,g=void 0,h=!1,i=[];if(W=function(b){e=e.next={task:b,domain:h&&a.domain,next:null},f||(f=!0,g())},"object"==typeof a&&"[object process]"===a.toString()&&a.nextTick)h=!0,g=function(){a.nextTick(b)};else if("function"==typeof setImmediate)g="undefined"!=typeof window?setImmediate.bind(window,b):function(){setImmediate(b)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=function(){g=k,j.port1.onmessage=b,b()};var k=function(){j.port2.postMessage(0)};g=function(){setTimeout(b,0),k()}}else g=function(){setTimeout(b,0)};return W.runAfter=function(a){i.push(a),f||(f=!0,g())},W}(),X=Function.call,Y=b(Array.prototype.slice),Z=b(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),$=b(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),_=b(Array.prototype.map||function(a,b){var c=this,d=[];return Z(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),aa=Object.create||function(a){function b(){}return b.prototype=a,new b},ba=b(Object.prototype.hasOwnProperty),ca=Object.keys||function(a){var b=[];for(var c in a)ba(a,c)&&b.push(c);return b},da=b(Object.prototype.toString);T="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var ea="From previous event:";l.resolve=l,l.nextTick=W,l.longStackSupport=!1,"object"==typeof a&&a&&a.env&&a.env.Q_DEBUG&&(l.longStackSupport=!0),l.defer=m,m.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(Y(arguments,1)):a.resolve(c)}},l.Promise=n,l.promise=n,n.race=o,n.all=K,n.reject=A,n.resolve=l,l.passByCopy=function(a){return a},p.prototype.passByCopy=function(){return this},l.join=function(a,b){return l(a).join(b)},p.prototype.join=function(a){return l([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},l.race=o,p.prototype.race=function(){return this.then(l.race)},l.makePromise=p,p.prototype.toString=function(){return"[object Promise]"},p.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return A(c)}}function f(a){if("function"==typeof b){e(a,h);try{return b(a)}catch(c){return A(c)}}return A(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=m(),j=!1;return l.nextTick(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!l.onerror)throw d;l.onerror(d)}c||i.notify(b)}]),i.promise},l.tap=function(a,b){return l(a).tap(b)},p.prototype.tap=function(a){return a=l(a),this.then(function(b){return a.fcall(b).thenResolve(b)})},l.when=q,p.prototype.thenResolve=function(a){return this.then(function(){return a})},l.thenResolve=function(a,b){return l(a).thenResolve(b)},p.prototype.thenReject=function(a){return this.then(function(){throw a})},l.thenReject=function(a,b){return l(a).thenReject(b)},l.nearer=r,l.isPromise=s,l.isPromiseAlike=t,l.isPending=u,p.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=v,p.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=w,p.prototype.isRejected=function(){return"rejected"===this.inspect().state};var fa=[],ga=[],ha=[],ia=!0;l.resetUnhandledRejections=x,l.getUnhandledReasons=function(){return fa.slice()},l.stopUnhandledRejectionTracking=function(){x(),ia=!1},x(),l.reject=A,l.fulfill=B,l.master=D,l.spread=E,p.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},l.async=F,l.spawn=G,l["return"]=H,l.promised=I,l.dispatch=J,p.prototype.dispatch=function(a,b){var c=this,d=m();return l.nextTick(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},l.get=function(a,b){return l(a).dispatch("get",[b])},p.prototype.get=function(a){return this.dispatch("get",[a])},l.set=function(a,b,c){return l(a).dispatch("set",[b,c])},p.prototype.set=function(a,b){return this.dispatch("set",[a,b])},l.del=l["delete"]=function(a,b){return l(a).dispatch("delete",[b])},p.prototype.del=p.prototype["delete"]=function(a){return this.dispatch("delete",[a])},l.mapply=l.post=function(a,b,c){return l(a).dispatch("post",[b,c])},p.prototype.mapply=p.prototype.post=function(a,b){return this.dispatch("post",[a,b])},l.send=l.mcall=l.invoke=function(a,b){return l(a).dispatch("post",[b,Y(arguments,2)])},p.prototype.send=p.prototype.mcall=p.prototype.invoke=function(a){return this.dispatch("post",[a,Y(arguments,1)])},l.fapply=function(a,b){return l(a).dispatch("apply",[void 0,b])},p.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},l["try"]=l.fcall=function(a){return l(a).dispatch("apply",[void 0,Y(arguments,1)])},p.prototype.fcall=function(){return this.dispatch("apply",[void 0,Y(arguments)])},l.fbind=function(a){var b=l(a),c=Y(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(Y(arguments))])}},p.prototype.fbind=function(){var a=this,b=Y(arguments);return function(){return a.dispatch("apply",[this,b.concat(Y(arguments))])}},l.keys=function(a){return l(a).dispatch("keys",[])},p.prototype.keys=function(){return this.dispatch("keys",[])},l.all=K,p.prototype.all=function(){return K(this)},l.any=L,p.prototype.any=function(){return L(this)},l.allResolved=k(M,"allResolved","allSettled"),p.prototype.allResolved=function(){return M(this)},l.allSettled=N,p.prototype.allSettled=function(){return this.then(function(a){return K(_(a,function(a){function b(){return a.inspect()}return a=l(a),a.then(b,b)}))})},l.fail=l["catch"]=function(a,b){return l(a).then(void 0,b)},p.prototype.fail=p.prototype["catch"]=function(a){return this.then(void 0,a)},l.progress=O,p.prototype.progress=function(a){return this.then(void 0,void 0,a)},l.fin=l["finally"]=function(a,b){return l(a)["finally"](b)},p.prototype.fin=p.prototype["finally"]=function(a){return a=l(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},l.done=function(a,b,c,d){return l(a).done(b,c,d)},p.prototype.done=function(b,c,d){var f=function(a){l.nextTick(function(){if(e(a,g),!l.onerror)throw a;l.onerror(a)})},g=b||c||d?this.then(b,c,d):this;"object"==typeof a&&a&&a.domain&&(f=a.domain.bind(f)),g.then(void 0,f)},l.timeout=function(a,b,c){return l(a).timeout(b,c)},p.prototype.timeout=function(a,b){var c=m(),d=setTimeout(function(){b&&"string"!=typeof b||(b=new Error(b||"Timed out after "+a+" ms"),b.code="ETIMEDOUT"),c.reject(b)},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},l.delay=function(a,b){return void 0===b&&(b=a,a=void 0),l(a).delay(b)},p.prototype.delay=function(a){return this.then(function(b){var c=m();return setTimeout(function(){c.resolve(b)},a),c.promise})},l.nfapply=function(a,b){return l(a).nfapply(b)},p.prototype.nfapply=function(a){var b=m(),c=Y(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},l.nfcall=function(a){var b=Y(arguments,1);return l(a).nfapply(b)},p.prototype.nfcall=function(){var a=Y(arguments),b=m();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},l.nfbind=l.denodeify=function(a){var b=Y(arguments,1);return function(){var c=b.concat(Y(arguments)),d=m();return c.push(d.makeNodeResolver()),l(a).fapply(c).fail(d.reject),d.promise}},p.prototype.nfbind=p.prototype.denodeify=function(){var a=Y(arguments);return a.unshift(this),l.denodeify.apply(void 0,a)},l.nbind=function(a,b){var c=Y(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(Y(arguments)),f=m();return e.push(f.makeNodeResolver()),l(d).fapply(e).fail(f.reject),f.promise}},p.prototype.nbind=function(){var a=Y(arguments,0);return a.unshift(this),l.nbind.apply(void 0,a)},l.nmapply=l.npost=function(a,b,c){return l(a).npost(b,c)},p.prototype.nmapply=p.prototype.npost=function(a,b){var c=Y(b||[]),d=m();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},l.nsend=l.nmcall=l.ninvoke=function(a,b){var c=Y(arguments,2),d=m();return c.push(d.makeNodeResolver()),l(a).dispatch("post",[b,c]).fail(d.reject),d.promise},p.prototype.nsend=p.prototype.nmcall=p.prototype.ninvoke=function(a){var b=Y(arguments,1),c=m();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},l.nodeify=P,p.prototype.nodeify=function(a){return a?void this.then(function(b){l.nextTick(function(){a(null,b)})},function(b){l.nextTick(function(){a(b)})}):this},l.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ja=j();return l})}).call(this,a("_process"))},{_process:2}],4:[function(a,b,c){"use strict";function d(a,b){this.name=a,this.orientation=b.height>b.width?"portrait":"paysage",this.width=b.width,this.height=b.height,this.margins={top:b.margins?b.margins.top:"0",right:b.margins?b.margins.right:"0",bottom:b.margins?b.margins.bottom:"0",left:b.margins?b.margins.left:"0"},this.header={height:b.header?b.header.height:"0",margins:{right:b.header&&b.header.margins?b.header.margins.right:"0",bottom:b.header&&b.header.margins?b.header.margins.bottom:"0",left:b.header&&b.header.margins?b.header.margins.left:"0"},border:{color:b.header&&b.header.border?b.header.border.color:"black",style:b.header&&b.header.border?b.header.border.style:"none",width:b.header&&b.header.border?b.header.border.width:"0"}},this.footer={height:b.footer?b.footer.height:"0",margins:{top:b.footer&&b.footer.margins?b.footer.margins.top:"0",right:b.footer&&b.footer.margins?b.footer.margins.right:"0",left:b.footer&&b.footer.margins?b.footer.margins.left:"0"},border:{color:b.footer&&b.footer.border?b.footer.border.color:"black",style:b.footer&&b.footer.border?b.footer.border.style:"none",width:b.footer&&b.footer.border?b.footer.border.width:"0"}},this.body={border:{color:b.body&&b.body.border?b.body.border.color:"black",style:b.body&&b.body.border?b.body.border.style:"none",width:b.body&&b.body.border?b.body.border.width:"0"}},this.showAlert=!0}function e(a){function b(){f=a.currentFormat,c(),d(a),g.fire("HeadersFooters:Format:AppliedToBody",{documentFormat:f})}function c(){var b;b="body"===a.type?f.calculateBodyHeight(g):f[a.type].height;var c={boxSizing:"border-box",height:b,minHeight:b,maxHeight:b};a.stackedLayout.editarea.css({border:0}),a.stackedLayout.iframe.css(c),e(a)}function d(a){if(m(i,h).css({margin:0,padding:0,overflow:"hidden"}),a.isMaster&&m(i,h).css({overflowY:"auto"}),a.isMaster){a.pageLayout.pageWrapper.css({overflow:"auto",background:"#464646",position:"absolute",top:0,right:0,left:0,bottom:0,margin:0}),a.pageLayout.pagePanel.css({overflow:"hidden",background:"white",border:0,boxSizing:"border-box",height:f.height,margin:"25mm auto 2cm auto",paddingTop:f.margins.top,paddingRight:f.margins.right,paddingBottom:f.margins.bottom,paddingLeft:f.margins.left,width:f.width}),a.pageLayout.headerWrapper.css({overflow:"hidden",boxSizing:"border-box",height:f.header.height+f.header.margins.bottom,margin:0,padding:0});var b=f.hasHeader(),c=f.hasHeaderBorder();a.pageLayout.headerPanel.css({overflow:"hidden",borderColor:b&&!c?"black":f.header.border.color,borderStyle:b&&!c?"solid":f.header.border.style,borderWidth:b&&!c?"0.1mm":f.header.border.width,boxSizing:"border-box",height:f.header.height,marginTop:0,marginRight:f.header.margins.right,marginBottom:f.header.margins.bottom,marginLeft:f.header.margins.left,padding:0}),a.pageLayout.headerIframe&&a.pageLayout.headerIframe.css({height:f.header.height,minHeight:f.header.height,maxHeight:f.header.height});var d=f.calculateBodyHeight(g);a.pageLayout.bodyWrapper.css({overflow:"auto",border:0,boxSizing:"border-box",height:d,margin:0,padding:0,width:"100%"}),a.pageLayout.bodyPanel.css({overflow:"auto",borderColor:f.body.border.color,borderStyle:f.body.border.style,borderWidth:f.body.border.width,boxSizing:"border-box",height:d,margin:0,padding:0,width:"100%"}),a.pageLayout.footerWrapper.css({overflow:"hidden",border:0,borderTop:"dashed 1px gray",boxSizing:"border-box",height:f.footer.height+f.footer.margins.top,margin:0,padding:0});var e=f.hasFooter(),j=f.hasFooterBorder();a.pageLayout.footerPanel.css({overflow:"hidden",borderColor:e&&!j?"black":f.footer.border.color,borderStyle:e&&!j?"solid":f.footer.border.style,borderWidth:e&&!j?"0.1mm":f.footer.border.width,boxSizing:"border-box",height:f.footer.height,marginTop:f.footer.margins.top,marginRight:f.footer.margins.right,marginBottom:0,marginLeft:f.footer.margins.left,padding:0}),a.pageLayout.footerIframe&&a.pageLayout.footerIframe.css({height:f.footer.height,minHeight:f.footer.height,maxHeight:f.footer.height})}}function e(a){var b=a.stackedLayout.iframe[0].contentDocument,c=a.stackedLayout.root.css("border-width");g.$("html, body",b).css({"overflow-y":"hidden !important"}),g.$("body.body-panel",b).css({"overflow-y":"auto !important"}),g.$("html",b).css({height:"calc(100% - "+c+")"}),g.$("body",b).css({height:"100%",border:"1px dashed gray"})}var f=this,g=a.editor;if(a.documentBody){var h=a.editor.getWin(),i=a.documentBody;b(),a.getMaster()&&(a=a.getMaster(),b())}}function f(a){var b,c=this,d=l.getValueFromStyle(this.height),e=l.getValueFromStyle(this.margins.top),f=l.getValueFromStyle(this.margins.bottom),g=l.getValueFromStyle(this.header.height),h=l.getValueFromStyle(this.header.margins.bottom),i=l.getValueFromStyle(this.footer.height),j=l.getValueFromStyle(this.footer.margins.top),k=d-e-f-g-h-i-j;if(b=k+"mm",0>=k&&this.showAlert){var m;this.showAlert=!1,m="Inconsistant Custom Format: « Body height < 0 ». Do you want to fix it ?",a.fire("HeadersFooters:Error:NegativeBodyHeight"),a.windowManager.confirm(m,function(b){b&&a.execCommand("editFormatCmd"),c.showAlert=!0})}return b}function g(){return!this.header||this.header.height&&"0"!==this.header.height}function h(){return!this.footer||this.footer.height&&"0"!==this.footer.height}function i(){return!this.hasHeader()||this.header.border.width&&"0"!==this.header.border.width}function j(){return!this.hasFooter()||this.footer.border.width&&"0"!==this.footer.border.width}var k=a("../utils/ui"),l=a("../utils/units"),m=k.jQuery;b.exports=d,d.prototype.applyToPlugin=e,d.prototype.calculateBodyHeight=f,d.prototype.hasHeader=g,d.prototype.hasFooter=h,d.prototype.hasHeaderBorder=i,d.prototype.hasFooterBorder=j,d.defaults={},d.defaults.A4=new d("A4",{height:"297mm",width:"210mm",margins:{top:"10mm",right:"10mm",bottom:"10mm",left:"10mm"},header:{height:"0",margins:{right:"0",bottom:"10mm",left:"0"},border:{color:"black",style:"solid",width:"0"}},footer:{height:"0",margins:{right:"0",top:"10mm",left:"0"},border:{color:"black",style:"solid",width:"0"}},body:{border:{color:"black",style:"solid",width:"0"}}}),"development"===window.env&&(d.defaults["dev-small"]=new d("dev-small",{height:"150mm",width:"100mm",margins:{top:"10mm",right:"10mm",bottom:"10mm",left:"10mm"},header:{height:"10mm",margins:{right:"15mm",bottom:"10mm",left:"5mm"},border:{color:"red",style:"dashed",width:"1mm"}},footer:{height:"10mm",margins:{right:"0",top:"1cm",left:"0"},border:{color:"red",style:"dashed",width:"1mm"}},body:{border:{color:"red",style:"dashed",width:"1mm"}}}))},{"../utils/ui":14,"../utils/units":15}],5:[function(a,b,c){"use strict";function d(a,b){this.name=a,k.call(this);for(var c in b)"visible"!==c&&"disabled"!==c&&(this[c]=b[c]);b.id||(this.id="mce-plugin-headersfooters-"+l(a)+p()),b.visible===!1&&this.hide(),b.disabled&&this.disable()}function e(){var a=this;return this._renderingPromise.then(function(){return o("#"+a.id)})}function f(){console.info("%s menu item has been clicked",this.name)}function g(){return this.getUIControl().then(function(a){return a.show(),a})}function h(){return this.getUIControl().then(function(a){return a.hide(),a})}function i(){return this.getUIControl().then(function(a){return a.addClass("mce-disabled"),a})}function j(){return this.getUIControl().then(function(a){return a.removeClass("mce-disabled"),a})}function k(){var a=this,b=m.defer(),c=o("body");c.on("menusController:mceMenuRendered",function(c,d){o(".mce-menu-item",d).each(function(c,d){o(d).attr("id")===a.id&&b.resolve(d)})}),this._renderingPromise=b.promise}function l(a){if(!a.replace)throw new Error("The replace() method is not available.");return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var m=a("q"),n=a("../utils/time"),o=window.jQuery,p=n.timestamp;b.exports=d,d.prototype={getUIControl:e,onclick:f,show:g,hide:h,disable:i,enable:j}},{"../utils/time":12,q:3}],6:[function(a,b,c){"use strict";function d(a){var b=j.activeEditor.plugins.headersfooters.availableFormats,c=[];for(var d in b){var e=b[d];c.push({text:e.name,value:e.name})}var f=i.createSelectBox("Format","newformat",c,150),g=i.createSelectBox("Orientation","orientation",[{text:"paysage",value:"paysage"},{text:"portrait",value:"portrait"}],150),h=i.createTextBox("Page height","pageHeight",65),k=i.createUnitSelectBox("pageHeightUnit","mm"),l=i.createTextBox("Page width","pageWidth",65),m=i.createUnitSelectBox("pageWidthUnit","mm");f.on("select",function(a){var c=a.control.value(),d=b[c];h.value(d.height.slice(0,-2)),l.value(d.width.slice(0,-2))}),g.on("select",function(a){var b,c,d=g.value(),e=h.value(),f=l.value();e>=f?(b=e,c=f):(b=f,c=e),"portrait"===d?(h.value(b),l.value(c)):(h.value(c),l.value(b))});var n=i.createForm([f,g],1),o=i.createForm([h,k,l,m],2),p=i.createFieldset("Format",[n],null,300),q=i.createFieldset("Paper Size",[o],460),r=i.createTab("Paper",[p,q]);return r}function e(a){var b=i.createTextBox("Margin top","marginTop",65),c=i.createUnitSelectBox("marginTopUnit","mm"),d=i.createTextBox("Margin right","marginRight",65),e=i.createUnitSelectBox("marginRightUnit","mm"),f=i.createTextBox("Margin bottom","marginBottom",65),g=i.createUnitSelectBox("marginBottomUnit","mm"),h=i.createTextBox("Margin left","marginLeft",65),j=i.createUnitSelectBox("marginLeftUnit","mm"),k=i.createForm([b,c,d,e,f,g,h,j],2),l=i.createFieldset("Margins",[k],460),m=i.createTab("Margin",[l]);return m}function f(a){var b=i.createTextBox("Height","headerHeight",65),c=i.createUnitSelectBox("headerHeightUnit","mm"),d=i.createForm([b,c],2),e=i.createFieldset("Header dimensions",[d],460),f=i.createTextBox("Margin right","headerMarginRight",65),g=i.createUnitSelectBox("headerMarginRightUnit","mm"),h=i.createTextBox("Margin bottom","headerMarginBottom",65),j=i.createUnitSelectBox("headerMarginBottomUnit","mm"),k=i.createTextBox("Margin left","headerMarginLeft",65),l=i.createUnitSelectBox("headerMarginLeftUnit","mm"),m=i.createForm([f,g,h,j,k,l],2),n=i.createFieldset("Header margins",[m],460),o=i.createTextBox("Border width","headerBorderWidth",65),p=i.createUnitSelectBox("headerBorderWidthUnit","mm"),q=i.createListBoxItem("none"),r=i.createListBoxItem("hidden"),s=i.createListBoxItem("dotted"),t=i.createListBoxItem("dashed"),u=i.createListBoxItem("solid"),v=i.createListBoxItem("double"),w=i.createListBoxItem("groove"),x=i.createListBoxItem("ridge"),y=i.createListBoxItem("inset"),z=i.createListBoxItem("outset"),A=[q,r,s,t,u,v,w,x,y,z],B=i.createListBox("Border style","headerBorderStyle",A,q,90),C=i.createColorPicker("Border color","headerBorderColor",function(){}),D=i.createForm([o,p]),E=i.createForm([B,C],1),F=i.createFieldset("Header borders",[D,E],460),G=i.createTab("Header",[e,n,F]);return G}function g(a){var b=i.createTextBox("Height","footerHeight",65),c=i.createUnitSelectBox("footerHeightUnit","mm"),d=i.createForm([b,c],2),e=i.createFieldset("Footer dimensions",[d],460),f=i.createTextBox("Margin top","footerMarginTop",65),g=i.createUnitSelectBox("footerMarginTopUnit","mm"),h=i.createTextBox("Margin right","footerMarginRight",65),j=i.createUnitSelectBox("footerMarginRightUnit","mm"),k=i.createTextBox("Margin left","footerMarginLeft",65),l=i.createUnitSelectBox("footerMarginLeftUnit","mm"),m=i.createForm([f,g,h,j,k,l],2),n=i.createFieldset("Footer margins",[m],460),o=i.createTextBox("Border width","footerBorderWidth",65),p=i.createUnitSelectBox("footerBorderWidthUnit","mm"),q=i.createListBoxItem("none"),r=i.createListBoxItem("hidden"),s=i.createListBoxItem("dotted"),t=i.createListBoxItem("dashed"),u=i.createListBoxItem("solid"),v=i.createListBoxItem("double"),w=i.createListBoxItem("groove"),x=i.createListBoxItem("ridge"),y=i.createListBoxItem("inset"),z=i.createListBoxItem("outset"),A=[q,r,s,t,u,v,w,x,y,z],B=i.createListBox("Border style","footerBorderStyle",A,q,90),C=i.createColorPicker("Border color","footerBorderColor",function(){}),D=i.createForm([o,p]),E=i.createForm([B,C],1),F=i.createFieldset("Footer borders",[D,E],460),G=i.createTab("Footer",[e,n,F]);return G}function h(a){var b=i.createTextBox("Border width","bodyBorderWidth",65),c=i.createUnitSelectBox("bodyBorderWidthUnit","mm"),d=i.createListBoxItem("none"),e=i.createListBoxItem("hidden"),f=i.createListBoxItem("dotted"),g=i.createListBoxItem("dashed"),h=i.createListBoxItem("solid"),j=i.createListBoxItem("double"),k=i.createListBoxItem("groove"),l=i.createListBoxItem("ridge"),m=i.createListBoxItem("inset"),n=i.createListBoxItem("outset"),o=[d,e,f,g,h,j,k,l,m,n],p=i.createListBox("Border style","bodyBorderStyle",o,d,90),q=i.createColorPicker("Border color","bodyBorderColor",function(){}),r=i.createForm([b,c]),s=i.createForm([p,q],1),t=i.createFieldset("Body borders",[r,s],460),u=i.createTab("Body",[t]);return u}var i=a("../utils/ui-helpers"),j=window.tinymce;b.exports={createFormatTab:d,createMarginsTab:e,createHeaderTab:f,createFooterTab:g,createBodyTab:h}},{"../utils/ui-helpers":13}],7:[function(a,b,c){"use strict";function d(a){function b(b){function c(){var c=this.toJSON(),d={name:"custom",orientation:c.orientation?c.orientation:"portrait",height:c.pageHeight?c.pageHeight+"mm":b.height,width:c.pageWidth?c.pageWidth+"mm":b.width,margins:{bottom:c.marginBottom?c.marginBottom+"mm":b.margins.bottom,left:c.marginLeft?c.marginLeft+"mm":b.margins.left,right:c.marginRight?c.marginRight+"mm":b.margins.right,top:c.marginTop?c.marginTop+"mm":b.margins.top},header:{border:{color:c.headerBorderColor||b.header.border.color,style:c.headerBorderStyle||b.header.border.style,width:c.headerBorderWidth?c.headerBorderWidth+"mm":b.header.border.width},height:c.headerHeight?c.headerHeight+"mm":b.header.height,margins:{bottom:c.headerMarginBottom?c.headerMarginBottom+"mm":b.header.margins.bottom,left:c.headerMarginLeft?c.headerMarginLeft+"mm":b.header.margins.left,right:c.headerMarginRight?c.headerMarginRight+"mm":b.header.margins.right}},footer:{border:{color:c.footerBorderColor||b.footer.border.color,style:c.footerBorderStyle||b.footer.border.style,width:c.footerBorderWidth?c.footerBorderWidth+"mm":b.footer.border.width},height:c.footerHeight?c.footerHeight+"mm":b.footer.height,margins:{top:c.footerMarginTop?c.footerMarginTop+"mm":b.footer.margins.top,left:c.footerMarginLeft?c.footerMarginLeft+"mm":b.footer.margins.left,
right:c.footerMarginRight?c.footerMarginRight+"mm":b.footer.margins.right}},body:{border:{color:c.bodyBorderColor||b.body.border.color,style:c.bodyBorderStyle||b.body.border.style,width:c.bodyBorderWidth?c.bodyBorderWidth+"mm":b.body.border.width}}};a.plugins.headersfooters.currentFormat=new f("custom",d),a.plugins.headersfooters.currentFormat.applyToPlugin(a.plugins.headersfooters)}var d=e.createFormatTab(b),g=e.createMarginsTab(b),h=e.createHeaderTab(b),i=e.createFooterTab(b),j=e.createBodyTab(b);a.windowManager.open({bodyType:"tabpanel",title:"Edit Document Format",body:[d,g,h,i,j],data:{newformat:b.name,orientation:b.orientation,pageHeight:b.height.slice(0,-2),pageWidth:b.width.slice(0,-2),marginTop:b.margins.top.slice(0,-2),marginRight:b.margins.right.slice(0,-2),marginBottom:b.margins.bottom.slice(0,-2),marginLeft:b.margins.left.slice(0,-2),headerBorderWidth:b.header.border.width.slice(0,-2),headerBorderColor:b.header.border.color,headerBorderStyle:b.header.border.style,headerMarginLeft:b.header.margins.left.slice(0,-2),headerMarginBottom:b.header.margins.bottom.slice(0,-2),headerMarginRight:b.header.margins.right.slice(0,-2),headerHeight:b.header.height.slice(0,-2),footerBorderWidth:b.footer.border.width.slice(0,-2),footerBorderColor:b.footer.border.color,footerBorderStyle:b.footer.border.style,footerMarginLeft:b.footer.margins.left.slice(0,-2),footerMarginTop:b.footer.margins.top.slice(0,-2),footerMarginRight:b.footer.margins.right.slice(0,-2),footerHeight:b.footer.height.slice(0,-2),bodyBorderWidth:b.body.border.width.slice(0,-2),bodyBorderColor:b.body.border.color,bodyBorderStyle:b.body.border.style},onsubmit:c})}return b}var e=a("./edit-format-tabs"),f=a("../classes/Format");b.exports=d},{"../classes/Format":4,"./edit-format-tabs":6}],8:[function(a,b,c){"use strict";function d(a){return{insertHeader:e(a),insertFooter:g(a),removeHeader:f(a),removeFooter:h(a),insertPageNumber:i(a),insertNumberOfPages:j(a),editFormat:k(a)}}function e(a){return new l("insertHeader",{text:"Insérer une entête",icon:"template",id:"plugin-headersfooters-menuitem-insert-header"+o(),context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,q),a.on("NodeChange",m.resetMenuItemState.bind(this,a,q))},onclick:function(){var b=a.plugins.headersfooters.getMaster();b.currentFormat.header.height="20mm",b.currentFormat.header.border.width="1mm",b.currentFormat.header.margins.bottom="5mm",b.currentFormat.applyToPlugin(b),b.menuItemsList.insertHeader.hide(),b.menuItemsList.removeHeader.show()}})}function f(a){return new l("removeHeader",{text:"Supprimer l'entête",icon:"undo",id:"plugin-headersfooters-menuitem-remove-header"+o(),context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,q),a.on("NodeChange",m.resetMenuItemState.bind(this,a,q))},onclick:function(){var b=a.plugins.headersfooters.getMaster();b.currentFormat.header.height="0",b.currentFormat.header.border.width="0",b.currentFormat.header.margins.bottom="0",b.currentFormat.applyToPlugin(b),b.menuItemsList.removeHeader.hide(),b.menuItemsList.insertHeader.show()}})}function g(a){return new l("insertFooter",{text:"Insérer un pied de page",icon:"template",context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,q),a.on("NodeChange",m.resetMenuItemState.bind(this,a,q))},onclick:function(){var b=a.plugins.headersfooters.getMaster();b.currentFormat.footer.height="20mm",b.currentFormat.footer.border.width="1mm",b.currentFormat.footer.margins.top="5mm",b.currentFormat.applyToPlugin(b),b.menuItemsList.insertFooter.hide(),b.menuItemsList.removeFooter.show()}})}function h(a){return new l("removeFooter",{text:"Supprimer le pied de page",icon:"undo",context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,q),a.on("NodeChange",m.resetMenuItemState.bind(this,a,q))},onclick:function(){var b=a.plugins.headersfooters.getMaster();b.currentFormat.footer.height="0",b.currentFormat.footer.border.width="0",b.currentFormat.footer.margins.top="0",b.currentFormat.applyToPlugin(b),b.menuItemsList.removeFooter.hide(),b.menuItemsList.insertFooter.show()}})}function i(a){return new l("insertPageNumber",{text:"Insérer le numéro de page",context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,p),a.on("NodeChange",m.resetMenuItemState.bind(this,a,p))},cmd:"insertPageNumberCmd"})}function j(a){return new l("insertNumberOfPages",{text:"Insérer le nombre de page",context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,p),a.on("NodeChange",m.resetMenuItemState.bind(this,a,p))},cmd:"insertNumberOfPagesCmd"})}function k(a){return new l("editFormat",{text:"Format",icon:"newdocument",context:"document",onPostRender:function(){m.resetMenuItemState.call(this,a,q),a.on("NodeChange",m.resetMenuItemState.bind(this,a,q))},cmd:"editFormatCmd"})}var l=a("../classes/MenuItem"),m=a("../utils/ui"),n=a("../utils/time"),o=n.timestamp,p=".header-panel, .footer-panel",q=".body-panel";b.exports={create:d}},{"../classes/MenuItem":5,"../utils/time":12,"../utils/ui":14}],9:[function(a,b,c){"use strict";function d(a){var b=a.target;this.documentBodies.mce[this.type]=b.getBody(),this.documentBodies.app||(this.documentBodies.app=window.document.body),this.documentBody=b.getBody()}function e(a){l.mapMceLayoutElements(this.bodyClass,this.stackedLayout)}function f(a){this.isMaster&&l.mapPageLayoutElements(this.pageLayout)}function g(a){this.enable()}function h(a){this.disable()}function i(a){var b=this;this.currentFormat&&("blur"===a.type||"focus"===a.type?setTimeout(function(){b.currentFormat.applyToPlugin(b)},200):b.currentFormat.applyToPlugin(b))}function j(a){var b=a.target;b.settings.SILENT_INCONSISTANT_FORMAT_WARNING||console.error("Inconsistant custom format: body height is negative. Please fix format properties")}function k(a){var b=a.target;b&&b.plugins&&b.plugins.headersfooters&&b.plugins.headersfooters.reloadMenuItems()}var l=a("./utils/ui");b.exports={Init:{setBodies:d,setStackedLayout:e,setPageLayout:f,reloadMenuItems:k},NodeChange:{},SetContent:{},BeforeSetContent:{},Focus:{enterHeadFoot:g},Blur:{leaveHeadFoot:h},"Focus Blur Paste SetContent NodeChange HeadersFooters:SetFormat":{applyCurrentFormat:i,reloadMenuItems:k},"HeadersFooters:Error:NegativeBodyHeight":{alertErrorNegativeBodyHeight:j}}},{"./utils/ui":14}],10:[function(a,b,c){"use strict";function d(a,b){var c=this;this.type=a.settings.headersfooters_type,this.bodyClass=a.settings.body_class,this.enable=e,this.disable=f,this.setFormat=h,this.parseParamList=i,this.reloadMenuItems=j,this.isMaster="body"===this.type,this.isSlave=!this.isMaster,this.isMaster&&(k.getMasterHeadersFootersPlugin=function(){return c}),this.getMaster=function(){return k.getMasterHeadersFootersPlugin?k.getMasterHeadersFootersPlugin():null},this.isMaster&&"development"===window.env&&(window.mceHF=this),this.headerFooterFactory=null,this.units=m,this.editor=a,this.documentBody=null,this.documentBodies={app:null,mce:{header:null,body:null,footer:null}},this.stackedLayout={root:null,wrapper:null,layout:null,menubar:null,toolbar:null,editarea:null,statusbar:null},this.isMaster&&(this.pageLayout={pageWrapper:null,pagePanel:null,headerWrapper:null,headerPanel:null,bodyPanel:null,footerWrapper:null,footerPanel:null}),this.availableFormats={},this.formats=[],this.customFormats=[],this.defaultFormat=null,this.currentFormat=null,g.call(this),this.menuItemsList=l.create(a),o.autoAddMenuItems.call(this),a.addCommand("insertPageNumberCmd",function(){a.insertContent("{{page}}")}),a.addCommand("insertNumberOfPagesCmd",function(){a.insertContent("{{pages}}")}),a.addCommand("editFormatCmd",function(){r(a)(c.currentFormat)}),n.autoBindImplementedEventCallbacks.call(this,a,p)}function e(){this.stackedLayout.menubar.show(),this.stackedLayout.toolbar.show(),this.stackedLayout.statusbar.wrapper.show(),this.stackedLayout.statusbar.path.show(),this.stackedLayout.statusbar.wordcount.show(),this.stackedLayout.statusbar.resizehandle.show(),this.stackedLayout.statusbar.wrapper.css({left:0,right:0,zIndex:9999}),this.editor.$("body").css({opacity:1})}function f(){this.stackedLayout.menubar.hide(),this.stackedLayout.toolbar.hide(),this.stackedLayout.statusbar.wrapper.hide(),this.stackedLayout.statusbar.path.hide(),this.stackedLayout.statusbar.wordcount.hide(),this.stackedLayout.statusbar.resizehandle.hide(),this.editor.selection.isCollapsed()||this.editor.selection.collapse(),this.editor.$("body").css({opacity:.25})}function g(){var a=this,b=this.editor.settings,c=this.parseParamList(b.headersfooters_formats).map(function(a){return q.defaults[a]}).filter(function(a){return!!a});if(c.length)this.formats=c;else{this.formats=[];for(var d in q.defaults)a.formats.push(q.defaults[d])}this.customFormats=(b.headersfooters_custom_formats||[]).map(function(a){return new q(a.name,a.config)}),this.availableFormats={},this.formats.map(function(b){a.availableFormats[b.name]=b}),this.customFormats.map(function(b){a.availableFormats[b.name]=b}),this.defaultFormat=this.availableFormats[b.headersfooters_default_format]||this.formats[0]||this.customFormats[0]}function h(a){this.currentFormat=new q(a.name,a),this.editor.fire("HeadersFooters:SetFormat")}function i(a){if(void 0===a)return[];if("string"!=typeof a)throw new TypeError("paramValue must be a String, "+typeof a+" given.");return a.split(" ")}function j(){this.currentFormat&&(this.currentFormat.header.height&&"0"!==this.currentFormat.header.height?(this.menuItemsList.insertHeader.hide(),this.menuItemsList.removeHeader.show()):(this.menuItemsList.insertHeader.show(),this.menuItemsList.removeHeader.hide()),this.currentFormat.footer.height&&"0"!==this.currentFormat.footer.height?(this.menuItemsList.insertFooter.hide(),this.menuItemsList.removeFooter.show()):(this.menuItemsList.insertFooter.show(),this.menuItemsList.removeFooter.hide()))}var k=window.tinymce,l=a("./components/menu-items"),m=a("./utils/units"),n=a("./utils/events"),o=a("./utils/ui"),p=a("./event-handlers"),q=a("./classes/Format"),r=a("./components/edit-format-window");k.PluginManager.add("headersfooters",d)},{"./classes/Format":4,"./components/edit-format-window":7,"./components/menu-items":8,"./event-handlers":9,"./utils/events":11,"./utils/ui":14,"./utils/units":15}],11:[function(a,b,c){"use strict";function d(a,b){for(var c in b)for(var d in b[c])a.on(c,b[c][d].bind(this))}b.exports={autoBindImplementedEventCallbacks:d}},{}],12:[function(a,b,c){"use strict";function d(){return Date.now()}b.exports={timestamp:d}},{}],13:[function(a,b,c){"use strict";function d(a,b,c,d){var e={label:a,name:b,maxWidth:c||null,minWidth:d||null,onchange:function(a){}};return new m.ui.TextBox(e)}function e(a,b,c,d){return b=b||"pt",{label:"Unit",name:a,type:"listbox",minWidth:d||55,maxWidth:c||55,values:[{text:"pt",value:"pt"},{text:"cm",value:"cm"},{text:"mm",value:"mm"}],text:b,value:b}}function f(a,b,c,d,e){return new m.ui.ListBox({label:a,name:b,type:"listbox",minWidth:e||55,maxWidth:d||null,text:a,values:c,onselect:function(a){}})}function g(a,b,c,d){return{title:a,type:"form",items:{type:"form",layout:"grid",columns:d||1,direction:c||"collumn",labelGapCalc:"children",padding:0,items:b}}}function h(a,b,c,d){var e={type:"fieldset",title:a,items:b,maxWidth:c||null,minWidth:d||null};return e}function i(a,b){return{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:b||2,defaults:{type:"textbox",maxWidth:100},items:a}}function j(a,b,c,d,e){return{label:a,name:b,type:"listbox",text:"None",minWidth:90,maxWidth:e,values:c}}function k(a,b){void 0===b&&(b=a);var c={text:a,value:b};return c}function l(a,b,c){return{type:"colorbox",label:a,name:b,minWidth:140,maxWidth:140,onaction:c}}var m=window.tinymce;b.exports={createTextBox:d,createUnitSelectBox:e,createSelectBox:f,createTab:g,createFieldset:h,createForm:i,createListBox:j,createListBoxItem:k,createColorPicker:l}},{}],14:[function(a,b,c){"use strict";function d(){var a=m(this);a.attr("contenteditable",!1),a.addClass("unselectable")}function e(){var a=m(this);a.attr("contenteditable",!0),a.removeClass("unselectable"),a.focus()}function f(a){var b=m("head",a.getDoc()),c=".unselectable { -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }",d=m("<style>").attr("type","text/css").html(c);d.appendTo(b)}function g(a,b){var c=a.selection.getStart(),d=m(c),e=d.parents(b);this.disabled(!e.length)}function h(){for(var a in this.menuItemsList)this.editor.addMenuItem(a,this.menuItemsList[a])}function i(a,b){b.root=m("."+a),b.wrapper=b.root.children(".mce-tinymce"),b.layout=b.wrapper.children(".mce-stack-layout"),b.menubar=b.layout.children(".mce-stack-layout-item.mce-menubar.mce-toolbar"),b.toolbar=b.layout.children(".mce-stack-layout-item.mce-toolbar-grp"),b.editarea=b.layout.children(".mce-stack-layout-item.mce-edit-area"),b.iframe=b.editarea.children("iframe"),b.statusbar={},b.statusbar.wrapper=b.layout.children(".mce-stack-layout-item.mce-statusbar"),b.statusbar.flowLayout=b.statusbar.wrapper.children(".mce-flow-layout"),b.statusbar.path=b.statusbar.wrapper.children(".mce-path"),b.statusbar.wordcount=b.layout.children(".mce-wordcount"),b.statusbar.resizehandle=b.layout.children(".mce-resizehandle")}function j(a){a.pageWrapper=m(".page-wrapper"),a.pagePanel=m(".page-panel"),a.headerWrapper=m(".header-wrapper"),a.headerPanel=m(".header-panel"),setTimeout(function(){a.headerIframe=a.headerPanel.find("iframe")},100),a.bodyWrapper=m(".body-wrapper"),a.bodyPanel=m(".body-panel"),a.footerWrapper=m(".footer-wrapper"),a.footerPanel=m(".footer-panel"),setTimeout(function(){a.footerIframe=a.footerPanel.find("iframe")},100)}function k(a,b,c){function d(a){return Number(l.getValueFromStyle(a))}b=b||window;var e=b.getComputedStyle(a),f=d(e.height);return f}var l=a("./units"),m=window.jQuery;b.exports={jQuery:m,lockNode:d,unlockNode:e,addUnselectableCSSClass:f,resetMenuItemState:g,autoAddMenuItems:h,mapMceLayoutElements:i,mapPageLayoutElements:j,getElementHeight:k}},{"./units":15}],15:[function(a,b,c){"use strict";function d(a){return a.slice(0,a.length-2)}function e(a){return a.slice(a.length-2,a.length)}function f(){return r.getElementById("dpi-test").offsetHeight}function g(){var a="data-dpi-test { height: 1in; left: -100%; position: absolute; top: -100%; width: 1in; }",b=r.getElementsByTagName("head")[0],c=r.createElement("style");c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.innerHTML=a,b.appendChild(c);var d=r.getElementsByTagName("body")[0],e=r.createElement("data-dpi-test");e.setAttribute("id","dpi-test"),d.appendChild(e)}function h(a){return 25.4*Number(a)}function i(a){return Number(a)/25.4}function j(a){var b=f();return Number(a)/Number(b)}function k(a){var b=f();return Number(a)*Number(b)}function l(a){return h(j(a))}function m(a){return k(i(a))}function n(a){return 72*Number(a)}function o(a){return a/72}function p(a){var b=j(a);return n(b)}function q(a){return k(o(a))}var r=window.document;g(),b.exports={getValueFromStyle:d,getUnitFromStyle:e,getDpi:f,in2mm:h,mm2in:i,px2in:j,in2px:k,px2mm:l,mm2px:m,in2pt:n,pt2in:o,px2pt:p,pt2px:q},"development"!==window.env||window._units||(window._units=b.exports)},{}]},{},[1]);